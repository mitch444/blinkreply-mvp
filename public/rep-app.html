<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blink Rep App — PrairieCRM</title>
  <link rel="icon" href="assets/icons/ico.png" />
  <style>
    :root {
      --bg: #0b111c;
      --panel: #111827;
      --panel-2: #0f172a;
      --border: #1f2937;
      --text: #e5e7eb;
      --muted: #94a3b8;
      --accent: #facc15;
      --danger: #f97316;
      --ok: #22c55e;
      --blue: #38bdf8;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: "Inter", "Segoe UI", Arial, sans-serif;
    }

    .app {
      min-height: 100vh;
      display: grid;
      grid-template-rows: auto 1fr auto;
    }

    .app-header {
      padding: 16px 18px 10px;
      border-bottom: 1px solid var(--border);
      background: rgba(17, 24, 39, 0.95);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .app-title {
      font-size: 18px;
      font-weight: 600;
      margin: 0 0 6px;
    }

    .app-subtitle {
      font-size: 12px;
      color: var(--muted);
      margin: 0;
    }

    .screen {
      display: none;
      padding: 16px 18px 80px;
    }

    .screen.active { display: block; }

    .card {
      border: 1px solid var(--border);
      background: var(--panel);
      border-radius: 14px;
      padding: 14px;
      margin-bottom: 12px;
    }

    .card-title {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
      margin-bottom: 10px;
    }

    .alert {
      border: 1px solid rgba(249, 115, 22, 0.6);
      background: rgba(249, 115, 22, 0.12);
      border-radius: 14px;
      padding: 14px;
    }

    .alert h2 { margin: 0 0 6px; font-size: 18px; }
    .alert p { margin: 0; color: var(--muted); font-size: 13px; }

    .btn-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 12px;
    }

    .btn {
      border: 1px solid var(--border);
      background: var(--panel-2);
      color: var(--text);
      border-radius: 12px;
      padding: 12px 14px;
      font-size: 14px;
      font-weight: 600;
      text-align: center;
    }

    .btn.primary {
      background: var(--accent);
      color: #111827;
      border-color: #eab308;
    }

    .btn.soft {
      background: rgba(56, 189, 248, 0.15);
      border-color: rgba(56, 189, 248, 0.4);
    }

    .btn.danger {
      background: rgba(249, 115, 22, 0.15);
      border-color: rgba(249, 115, 22, 0.4);
    }

    .lead-row {
      display: grid;
      gap: 6px;
      font-size: 14px;
    }

    .lead-row .muted { color: var(--muted); font-size: 12px; }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 11px;
      border: 1px solid var(--border);
      color: var(--muted);
    }

    .pill.ok { color: #bbf7d0; border-color: rgba(34, 197, 94, 0.4); background: rgba(34, 197, 94, 0.12); }
    .pill.warn { color: #fed7aa; border-color: rgba(249, 115, 22, 0.4); background: rgba(249, 115, 22, 0.12); }
    .pill.info { color: #bae6fd; border-color: rgba(56, 189, 248, 0.4); background: rgba(56, 189, 248, 0.12); }

    .section-title {
      font-size: 13px;
      color: var(--muted);
      margin: 16px 0 8px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .list {
      display: grid;
      gap: 10px;
    }

    .list-item {
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px;
      background: var(--panel-2);
    }

    .list-item h3 {
      margin: 0 0 4px;
      font-size: 14px;
    }

    .list-item p {
      margin: 0;
      font-size: 12px;
      color: var(--muted);
    }

    .tabs {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
      margin-bottom: 12px;
    }

    .tab {
      padding: 8px 10px;
      border: 1px solid var(--border);
      border-radius: 999px;
      background: var(--panel-2);
      color: var(--muted);
      font-size: 12px;
      text-align: center;
    }

    .tab.active {
      color: #111827;
      background: var(--accent);
      border-color: #eab308;
    }

    .footer-nav {
      position: sticky;
      bottom: 0;
      background: rgba(17, 24, 39, 0.95);
      border-top: 1px solid var(--border);
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 6px;
      padding: 10px;
    }

    .footer-btn {
      border: 1px solid var(--border);
      background: var(--panel-2);
      color: var(--muted);
      border-radius: 12px;
      padding: 8px 6px;
      font-size: 11px;
      text-align: center;
    }

    .footer-btn.active {
      background: rgba(250, 204, 21, 0.2);
      color: var(--text);
      border-color: rgba(250, 204, 21, 0.4);
    }

    .timer {
      font-size: 22px;
      font-weight: 600;
    }

    .timer-sub { color: var(--muted); font-size: 12px; }

    .camera-box {
      border: 1px dashed rgba(148, 163, 184, 0.4);
      border-radius: 16px;
      padding: 16px;
      text-align: center;
      color: var(--muted);
      min-height: 180px;
      display: grid;
      place-items: center;
      background: rgba(15, 23, 42, 0.6);
    }

    .dialer-actions {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin-top: 10px;
    }

    .progress {
      height: 8px;
      border-radius: 999px;
      background: #0f1b2d;
      border: 1px solid var(--border);
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      width: 40%;
      background: var(--accent);
    }

    @media (min-width: 860px) {
      .screen { max-width: 460px; margin: 0 auto; }
      .footer-nav { max-width: 460px; margin: 0 auto; }
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="app-title">Blink Rep App</div>
      <p class="app-subtitle">Rapid Response • VidPing • PrairieCRM</p>
    </header>

    <section id="screen-lock" class="screen active">
      <div class="alert">
        <h2>New Lead Arrived</h2>
        <p>Lead from CarGurus. 22 seconds old. Tap to claim.</p>
        <div class="btn-row">
          <button class="btn primary" data-nav="claim">Claim Lead</button>
          <button class="btn" data-nav="home">View Dashboard</button>
        </div>
      </div>
    </section>

    <section id="screen-home" class="screen">
      <div class="card">
        <div class="card-title">Live Now</div>
        <div class="list">
          <div class="list-item">
            <h3>Contest: CarGurus — 19s</h3>
            <p>Lead unclaimed. Tap to view.</p>
          </div>
          <div class="list-item">
            <h3>VidPing Pending — Ava T.</h3>
            <p>Claimed 2m ago. Send video.</p>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-title">My Day</div>
        <div class="list">
          <div class="list-item">
            <h3>3 Active Leads</h3>
            <p>Next: Call back in 20m.</p>
          </div>
          <div class="list-item">
            <h3>Private Sale Event</h3>
            <p>3 hours remaining • 12/25 appointments</p>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-title">Quick Actions</div>
        <div class="btn-row">
          <button class="btn soft" data-nav="vidping">Send VidPing</button>
          <button class="btn" data-nav="event">Event Hub</button>
        </div>
      </div>
    </section>

    <section id="screen-claim" class="screen">
      <div class="card">
        <div class="card-title">Lead Claim</div>
        <div class="lead-row">
          <strong>Ava T.</strong>
          <span class="muted">2024 Tucson Limited • CarGurus</span>
          <div class="pill warn">Response timer running</div>
          <div class="timer">01:41</div>
          <div class="timer-sub">Escalation at 03:00</div>
        </div>
      </div>
      <div class="card">
        <div class="card-title">First Action</div>
        <div class="btn-row">
          <button class="btn primary">Text</button>
          <button class="btn">Call</button>
          <button class="btn soft" data-nav="vidping">VidPing</button>
          <button class="btn">Send to DealerSocket</button>
        </div>
        <p class="app-subtitle">First action auto-marks response and syncs.</p>
      </div>
    </section>

    <section id="screen-vidping" class="screen">
      <div class="card">
        <div class="card-title">VidPing</div>
        <div class="lead-row">
          <strong>Ava T.</strong>
          <span class="muted">2024 Tucson Limited • CarGurus</span>
          <div class="pill info">Details auto-filled</div>
        </div>
      </div>
      <div class="camera-box">Camera preview</div>
      <div class="btn-row">
        <button class="btn primary">Record & Send</button>
        <button class="btn">Cancel</button>
      </div>
      <p class="app-subtitle">No retakes. Keep it human and fast.</p>
    </section>

    <section id="screen-leads" class="screen">
      <div class="tabs">
        <div class="tab active">Active</div>
        <div class="tab">Appointments</div>
        <div class="tab">Escalated/Lost</div>
      </div>
      <div class="list">
        <div class="list-item">
          <h3>Marcus R. — 2023 Elantra</h3>
          <p>Last action: Text sent • Next: Call in 30m</p>
        </div>
        <div class="list-item">
          <h3>Lena J. — 2024 Kona</h3>
          <p>Last action: VidPing sent • Next: Check reply</p>
        </div>
      </div>
    </section>

    <section id="screen-event" class="screen">
      <div class="card">
        <div class="card-title">Private Sale Event</div>
        <div class="lead-row">
          <strong>Prairie VIP Event</strong>
          <span class="muted">Ends in 02:42:18</span>
          <div class="pill ok">Team appointments: 12/25</div>
        </div>
        <div class="progress"><div class="progress-fill"></div></div>
      </div>
      <div class="card">
        <div class="card-title">Power Dialer Call List</div>
        <div class="list">
          <div class="list-item">
            <h3>Isabel D.</h3>
            <p>Last call: None</p>
            <div class="dialer-actions">
              <button class="btn primary">Call</button>
              <button class="btn">Booked</button>
              <button class="btn">VM</button>
              <button class="btn">Callback</button>
            </div>
          </div>
          <div class="list-item">
            <h3>Chris P.</h3>
            <p>Last call: VM left</p>
            <div class="dialer-actions">
              <button class="btn primary">Call</button>
              <button class="btn">Booked</button>
              <button class="btn">No Answer</button>
              <button class="btn">Callback</button>
            </div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-title">Appointment Tracking</div>
        <div class="list">
          <div class="list-item">
            <h3>Personal: 4 booked</h3>
            <p>Next: 1 to reach goal</p>
          </div>
          <div class="list-item">
            <h3>Team total: 12 booked</h3>
            <p>13 to event goal</p>
          </div>
        </div>
      </div>
    </section>

    <footer class="footer-nav">
      <button class="footer-btn active" data-nav="lock">Lock</button>
      <button class="footer-btn" data-nav="home">Home</button>
      <button class="footer-btn" data-nav="claim">Claim</button>
      <button class="footer-btn" data-nav="vidping">VidPing</button>
      <button class="footer-btn" data-nav="event">Event</button>
    </footer>
  </div>

  <script>
    const screens = {
      lock: document.getElementById("screen-lock"),
      home: document.getElementById("screen-home"),
      claim: document.getElementById("screen-claim"),
      vidping: document.getElementById("screen-vidping"),
      leads: document.getElementById("screen-leads"),
      event: document.getElementById("screen-event")
    };

    document.querySelectorAll("[data-nav]").forEach(btn => {
      btn.addEventListener("click", () => {
        const target = btn.getAttribute("data-nav");
        Object.values(screens).forEach(screen => screen.classList.remove("active"));
        if (screens[target]) screens[target].classList.add("active");
        document.querySelectorAll(".footer-btn").forEach(nav => nav.classList.remove("active"));
        const footer = document.querySelector(`.footer-btn[data-nav='${target}']`);
        if (footer) footer.classList.add("active");
      });
    });

    const EventBus = {
      handlers: {},
      on(type, handler) {
        if (!this.handlers[type]) this.handlers[type] = [];
        this.handlers[type].push(handler);
      },
      emit(type, payload) {
        (this.handlers[type] || []).forEach(handler => handler(payload));
      }
    };

    const DataModel = {
      events: [],
      leads: [],
      reps: [{ id: "rep_1", name: "Ava" }],
      logEvent(type, payload) {
        this.events.push({ type, payload, at: new Date().toISOString() });
        EventBus.emit(type, payload);
      },
      addLead(lead) {
        this.leads.push(lead);
        this.logEvent("LEAD_ARRIVED", lead);
      }
    };

    DataModel.addLead({ id: "lead_1", customer: "Ava T.", vehicle: "2024 Tucson", source: "CarGurus" });
  </script>
</body>
</html>
